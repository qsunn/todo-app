<main class="container">
    <mat-form-field class="search-form">
        <input type="text" matInput placeholder="Search task" name="search" [formControl]="searchControl" [matAutocomplete]="auto">
        <mat-autocomplete #auto="matAutocomplete">
          <mat-option *ngFor="let option of filteredOptions | async" [value]="option">
            {{option}}
          </mat-option>
        </mat-autocomplete>
        <button matSuffix mat-button class="search-form__btn">
            <mat-icon>search</mat-icon>
        </button>
    </mat-form-field>
    <h1 class="container__title">
        What To Do?
    </h1>
    <app-todo-input (taskCreated)="getAllTasks()"></app-todo-input>
    <div class="todo-list" cdkDropListGroup>
        <div class="task-container">
            <button class="todo-list__title-container done-btn" mat-flat-button color="primary"
                (click)="openConfirmModal($event, doneList)" matTooltip="Move All To Done" matTooltipPosition="above">
                Todo
            </button>
            <div cdkDropList [cdkDropListData]="todoList" class="task-list" (cdkDropListDropped)="drop($event)">
                <div class="task-box todo-list__item" *ngFor="let item of filteredTodoList" cdkDrag [cdkDragData]="item"
                    [ngClass]="{'deletion': item.isDeleted}">
                    <button class="todo-list__item--btn" mat-flat-button
                        (click)="openDialog(item)">{{item.name}}</button>
                    <button type="button" class="todo-list__delete-btn" (click)="hideTask(item, $event)">
                        <mat-icon class="delete-icon">close</mat-icon>
                    </button>
                </div>
            </div>
        </div>
        <div class="task-container">
            <button class="todo-list__title-container done-btn" mat-flat-button color="primary"
                (click)="openConfirmModal($event, doneList)" matTooltip="Delete All Done" matTooltipPosition="above">
                Done
            </button>
            <div cdkDropList [cdkDropListData]="doneList" class="task-list" (cdkDropListDropped)="drop($event)">
                <div class="task-box todo-list__item" *ngFor="let item of filteredDoneList" cdkDrag [cdkDragData]="item"
                    [ngClass]="{'deletion': item.isDeleted}">
                    <button class="todo-list__item--btn" mat-flat-button
                        (click)="openDialog(item)">{{item.name}}</button>
                    <button type="button" class="todo-list__delete-btn" (click)="hideTask(item, $event)">
                        <mat-icon class="delete-icon">close</mat-icon>
                    </button>
                </div>
            </div>
        </div>
    </div>
</main>
